<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Plotly JS -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
<div class="card">
    <div class="card-body">
        <h1 class="card-title">This is the demo for JCB</h1>
        <button class="btn btn-primary" onclick="plotGraph()">Load Chart</button>
    </div>

    <!-- plot goes in this div -->
    <div id="dataframe-graph"></div>

    <script>
        let graphGenerated = false;
        function plotGraph() {
            if (!graphGenerated) {
                const graph = {{ graph | safe }};
                Plotly.plot("dataframe-graph", graph, {})
                graphGenerated = true;
            }
            let div = document.getElementById("dataframe-graph");
            if (div.style.display === 'block') {
                div.style.display = 'none';
            } else {
                div.style.display = 'block';
            }
        }
    </script>
</div>
</body>
</html>